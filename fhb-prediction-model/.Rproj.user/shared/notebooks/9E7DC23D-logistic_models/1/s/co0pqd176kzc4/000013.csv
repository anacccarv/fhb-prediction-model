"0","data <- read_xlsx(""plan/weather_data_final.xlsx"")"
"0","df_predictors <- read_xlsx(""plan/df_predictors.xlsx"")"
"0",""
"0",""
"0","models <- list("
"0","  model1 = lrm(factor(epidemic) ~ tmin + rcs(rh, 4), data = df_predictors, x = TRUE, y = TRUE),"
"0","  model2 = lrm(factor(epidemic) ~ rcs(rh, 4) + rcs(dew, 3), data = df_predictors, x = TRUE, y = TRUE),"
"0","  model3 = lrm(factor(epidemic) ~ tmin + prec2, data = df_predictors, x = TRUE, y = TRUE)"
"0",")"
"0",""
"0","# Predicted probabilities"
"0","p1 <- predict(models$model1, type = ""fitted"")"
"0","p2 <- predict(models$model2, type = ""fitted"")"
"0","p3 <- predict(models$model3, type = ""fitted"")"
"0",""
"0","# Real"
"0","actual <- df_predictors$epidemic"
"0",""
"0","# # Ensembles"
"0","stack_data     <- data.frame(p1 = p1, p2 = p2, p3 = p3, epidemic = factor(df_predictors$epidemic))"
"0","meta_model     <- glm(epidemic ~ p1 + p2 + p3, data = stack_data, family = binomial)"
"0","ensemble_stack <- predict(meta_model, type = ""response"")"
